= テストシナリオ

== 結合テスト

=== 送信側

二重送信制御用ライブラリの送信機能を使ってサンプルのDTOをJSON変換して送信。
並列実行することで擬似的に実運用的な振る舞いを再現。

OracleにMUTEX用レコードが登録されていることを確認。
RabbitMQ管理ツールでキューに溜まったメッセージを検証し、想定した内容になっていることを確認。

=== 受信側

@RabbitListenerアノテーションと@ExactlyOnceDeliveryアノテーション付き受信メソッドを実装したbeanを登録し、
並列実行する設定で送信済みメッセージを受信する。受信メソッドの中で、メッセージ取り出しおよびその内容を別テーブルへ
登録する処理を実行。

メッセージから抽出したMUTEX IDをキーにMUTEXレコードをロックし、処理完了後に該当レコードを削除していることを確認。



== 障害テスト

Dockerイメージを稼働中に停止させて、動作確認。 +

=== RabbitMQサーバダウン

=== Oracleサーバダウン

